// design.sv
// Simplified I2C address translator demo
`timescale 1ns/1ps

module i2c_addr_translator #(
    parameter FROM_ADDR = 7'h48,  // address to intercept
    parameter TO_ADDR   = 7'h49   // translated address
)(
    input  logic clk,
    input  logic rst_n,
    input  logic [6:0] addr_in,
    output logic [6:0] addr_out
);

    always_ff @(posedge clk or negedge rst_n) begin
        if(!rst_n)
            addr_out <= 7'h00;
        else if(addr_in == FROM_ADDR) begin
            $display("[%0t] Translator: Intercepted 0x%02h -> 0x%02h",
                     $time, addr_in, TO_ADDR);
            addr_out <= TO_ADDR;
        end
        else begin
            $display("[%0t] Translator: Pass-through 0x%02h",
                     $time, addr_in);
            addr_out <= addr_in;
        end
      
    end
endmodule